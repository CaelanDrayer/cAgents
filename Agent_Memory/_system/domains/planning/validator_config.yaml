# Planning Domain Validator Configuration
# Quality gates and validation rules for planning deliverables

domain: planning
version: 1.0
description: "Validation and quality gates for strategic planning, project planning, and roadmapping"

# Quality Gates

quality_gates:
  completeness:
    severity: critical
    description: "All required planning components present"
    checks:
      - name: "All sections present"
        applicable_to: [create_project_plan, strategic_plan, create_roadmap]
        pass_criteria: "Required sections complete"
        fixable: true
        fix_agent: project-manager

  feasibility:
    severity: major
    description: "Plans are realistic and achievable"
    checks:
      - name: "Resources available"
        applicable_to: [create_project_plan, create_roadmap]
        pass_criteria: "Resource requirements within capacity"
        fixable: true
        fix_agent: resource-planner
      - name: "Timeline realistic"
        applicable_to: [create_project_plan, create_roadmap]
        pass_criteria: "Timeline accounts for dependencies and capacity"
        fixable: true
        fix_agent: project-manager

  alignment:
    severity: major
    description: "Plans align with strategy and goals"
    checks:
      - name: "Strategic alignment"
        applicable_to: [create_project_plan, set_okrs, create_roadmap]
        pass_criteria: "Plan aligns with organizational strategy"
        fixable: true
        fix_agent: strategic-planner

  stakeholder_approval:
    severity: critical
    description: "Required approvals obtained"
    checks:
      - name: "Stakeholder sign-off"
        applicable_to: [strategic_plan, portfolio_planning]
        when: "tier >= 3"
        pass_criteria: "Stakeholder approval documented"
        fixable: false
        escalate_to: hitl

# Validation Rules

validation_rules:
  create_project_plan_validation:
    required_components:
      - "Project scope and objectives"
      - "Timeline with milestones"
      - "Resource requirements"
      - "Risk and dependency analysis"
      - "Success criteria"
    quality_requirements:
      - "Timeline realistic given dependencies"
      - "Resources available or acquisition plan in place"
      - "Risks identified with mitigation"

  set_okrs_validation:
    required_components:
      - "Clear objectives (3-5)"
      - "Measurable key results (2-5 per objective)"
      - "Time period specified"
      - "Alignment to higher-level OKRs"
    quality_requirements:
      - "Objectives ambitious yet achievable"
      - "Key results measurable and specific"
      - "OKRs aligned with strategy"

  create_roadmap_validation:
    required_components:
      - "Prioritized initiatives"
      - "Timeline with milestones"
      - "Dependencies mapped"
      - "Resource assumptions"
    quality_requirements:
      - "Priorities clearly justified"
      - "Dependencies realistic"
      - "Timeline achievable"

  strategic_plan_validation:
    required_components:
      - "Current state analysis"
      - "Future vision"
      - "Strategic objectives"
      - "Implementation roadmap"
      - "Success metrics"
      - "Stakeholder approval"
    quality_requirements:
      - "Analysis thorough and data-driven"
      - "Vision compelling and clear"
      - "Strategy actionable"
      - "Roadmap realistic"

# Classification Criteria

classification:
  PASS:
    criteria:
      all_critical_passed: true
      all_major_passed: true
      minor_issues_count: "<= 2"

  FIXABLE:
    criteria:
      any_critical_failed: true
      issue_types: [incomplete, misalignment, infeasible]
      fixable: true
      retry_count: "< max_retries"

  BLOCKED:
    criteria:
      stakeholder_approval_missing: true
    OR:
      fundamental_infeasibility: true

# Automated Validation Checks

automated_checks:
  timeline_consistency:
    description: "Check timeline dates are logical"
    validation_method: "Verify end dates after start dates, no impossible sequences"
    fixable: true

  resource_totals:
    description: "Resource allocations sum correctly"
    validation_method: "Verify resource percentages and FTE counts"
    fixable: true

domain_notes: |
  Planning validation:
  
  - Feasibility is critical - unrealistic plans fail in execution
  - Stakeholder alignment prevents rework
  - Resource validation ensures execution possible
  - Timeline consistency prevents scheduling conflicts
