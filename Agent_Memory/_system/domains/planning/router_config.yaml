# Planning Domain Router Configuration
# Complexity classification and template matching for planning tasks

domain: planning
version: 1.0
description: "Tier classification and routing for strategic planning, project planning, and roadmapping tasks"

# Tier Classification Rules

tier_classification:
  tier_0_indicators:
    - "Question about planning methodology or concept"
    - "Explanation request about planning frameworks"
    keywords: [what, how, explain, define, OKR, roadmap, planning]
    examples:
      - "What is OKR methodology?"
      - "How do I create a roadmap?"
      - "Explain portfolio planning"

  tier_1_indicators:
    - "Single task or milestone update"
    - "Simple schedule adjustment"
    - "Quick planning check"
    scope: single_item
    time_estimate: "< 30 minutes"
    examples:
      - "Update milestone date to next week"
      - "Add task to sprint backlog"
      - "Check resource availability"

  tier_2_indicators:
    - "Single project plan"
    - "Quarterly OKR setting"
    - "Simple roadmap creation"
    - "Sprint planning session"
    scope: single_deliverable
    time_estimate: "1-4 hours"
    required_agents: 1-2
    examples:
      - "Plan Q4 marketing campaign project"
      - "Create product roadmap for next 6 months"
      - "Set team OKRs for Q1"

  tier_3_indicators:
    - "Multi-project program planning"
    - "Annual strategic planning"
    - "Portfolio optimization"
    - "Cross-functional roadmapping"
    scope: multi_component
    time_estimate: "4-12 hours"
    required_agents: 3-5
    examples:
      - "Plan annual product portfolio"
      - "Create 3-year strategic plan"
      - "Design transformation program"

  tier_4_indicators:
    - "Enterprise-wide strategic planning"
    - "Multi-year transformation"
    - "Full portfolio restructuring"
    - "Organization-wide OKR cascade"
    scope: enterprise_wide
    time_estimate: "> 12 hours"
    required_agents: 5+
    executive_approval_required: true
    examples:
      - "5-year company strategic plan"
      - "Enterprise digital transformation roadmap"
      - "Complete portfolio restructuring"

# Task Templates

templates:
  create_project_plan:
    description: "Single project planning"
    default_tier: 2
    keywords: [project, plan, timeline, deliverables]
    required_entities: [project_scope, timeline]
    scope_adjustments:
      - condition: "Multi-team coordination"
        adjustment: +1
      - condition: "Dependencies on other projects"
        adjustment: +1
    examples:
      - "Plan website redesign project"
      - "Create product launch project plan"

  set_okrs:
    description: "Objective and Key Results planning"
    default_tier: 2
    keywords: [OKR, objectives, key results, goals]
    required_entities: [time_period, scope]
    scope_adjustments:
      - condition: "Company-wide OKRs"
        adjustment: +1
      - condition: "Single team OKRs"
        adjustment: 0
    examples:
      - "Set Q3 team OKRs"
      - "Define annual company OKRs"

  create_roadmap:
    description: "Product or strategic roadmap"
    default_tier: 2
    keywords: [roadmap, timeline, milestones, phases]
    required_entities: [roadmap_type, time_horizon]
    scope_adjustments:
      - condition: "Multi-year horizon"
        adjustment: +1
      - condition: "Multiple products/workstreams"
        adjustment: +1
    examples:
      - "Create 12-month product roadmap"
      - "Build technology roadmap"

  strategic_plan:
    description: "Strategic planning exercise"
    default_tier: 3
    keywords: [strategy, strategic, vision, direction]
    required_entities: [scope, time_horizon]
    scope_adjustments:
      - condition: "Enterprise-wide"
        adjustment: +1
      - condition: "Department-level"
        adjustment: 0
    examples:
      - "Develop 3-year growth strategy"
      - "Create market expansion strategy"

  portfolio_planning:
    description: "Portfolio prioritization and optimization"
    default_tier: 3
    keywords: [portfolio, prioritization, optimization, initiatives]
    required_entities: [portfolio_scope]
    scope_adjustments:
      - condition: "Enterprise portfolio"
        adjustment: +1
      - condition: "Product portfolio"
        adjustment: 0
    examples:
      - "Optimize product portfolio"
      - "Prioritize initiative portfolio"

  program_planning:
    description: "Multi-project program planning"
    default_tier: 3
    keywords: [program, multi-project, coordination]
    required_entities: [program_scope, projects]
    scope_adjustments:
      - condition: "Cross-functional"
        adjustment: +1
      - condition: "10+ projects"
        adjustment: +1
    examples:
      - "Plan digital transformation program"
      - "Design customer experience program"

  resource_planning:
    description: "Resource allocation and capacity planning"
    default_tier: 2
    keywords: [resource, capacity, allocation, staffing]
    required_entities: [time_period, scope]
    scope_adjustments:
      - condition: "Company-wide"
        adjustment: +1
      - condition: "Multi-department"
        adjustment: +1
    examples:
      - "Plan Q4 resource allocation"
      - "Forecast hiring needs for 2027"

  risk_planning:
    description: "Risk and dependency planning"
    default_tier: 2
    keywords: [risk, dependency, mitigation, contingency]
    required_entities: [scope]
    scope_adjustments:
      - condition: "Enterprise risks"
        adjustment: +1
      - condition: "Program-level"
        adjustment: +1
    examples:
      - "Identify project risks and mitigation"
      - "Map program dependencies"

  scenario_planning:
    description: "Scenario planning and stress testing"
    default_tier: 3
    keywords: [scenario, contingency, future, planning]
    required_entities: [planning_scope]
    scope_adjustments:
      - condition: "Strategic scenarios"
        adjustment: +1
      - condition: "Multiple scenarios (5+)"
        adjustment: +1
    examples:
      - "Develop strategic scenarios for 2027"
      - "Create contingency plans"

# Scope Adjustment Rules

scope_adjustments:
  increase_tier:
    - indicator: "Cross-functional coordination required"
      adjustment: +1
    - indicator: "Enterprise-wide scope"
      adjustment: +1
    - indicator: "C-level or board approval needed"
      adjustment: +1
    - indicator: "Multi-year time horizon"
      adjustment: +1
    - indicator: "Complex dependencies across 10+ initiatives"
      adjustment: +1
    - indicator: "Organizational change management needed"
      adjustment: +1

  decrease_tier:
    - indicator: "Template or previous plan exists"
      adjustment: -1
    - indicator: "Single team/department scope"
      adjustment: 0
    - indicator: "Routine quarterly planning"
      adjustment: -1

# Calibration Tracking

calibration:
  total_routed: 0
  tier_accuracy:
    tier_0: {assigned: 0, correct: 0, over: 0, under: 0, accuracy: 0.0}
    tier_1: {assigned: 0, correct: 0, over: 0, under: 0, accuracy: 0.0}
    tier_2: {assigned: 0, correct: 0, over: 0, under: 0, accuracy: 0.0}
    tier_3: {assigned: 0, correct: 0, over: 0, under: 0, accuracy: 0.0}
    tier_4: {assigned: 0, correct: 0, over: 0, under: 0, accuracy: 0.0}

  template_accuracy:
    create_project_plan: {used: 0, success: 0, accuracy: 0.0}
    set_okrs: {used: 0, success: 0, accuracy: 0.0}
    create_roadmap: {used: 0, success: 0, accuracy: 0.0}
    strategic_plan: {used: 0, success: 0, accuracy: 0.0}
    portfolio_planning: {used: 0, success: 0, accuracy: 0.0}
    program_planning: {used: 0, success: 0, accuracy: 0.0}
    resource_planning: {used: 0, success: 0, accuracy: 0.0}
    risk_planning: {used: 0, success: 0, accuracy: 0.0}
    scenario_planning: {used: 0, success: 0, accuracy: 0.0}

# Domain-Specific Notes

domain_notes: |
  Planning domain routing considerations:

  **Time Horizons Matter**:
  - Sprint/monthly: Tier 1-2
  - Quarterly: Tier 2
  - Annual: Tier 2-3
  - Multi-year: Tier 3-4

  **Coordination Complexity**:
  - Single team: Tier 2
  - Multi-team: Tier 2-3
  - Cross-functional: Tier 3
  - Enterprise-wide: Tier 3-4

  **Planning Types**:
  - Tactical (project, sprint): Tier 1-2
  - Operational (quarterly, resource): Tier 2
  - Strategic (annual, transformation): Tier 3-4

  **Common Mistakes**:
  - Under-tiering strategic planning (minimum tier 3)
  - Over-tiering routine quarterly planning
  - Missing cross-functional complexity
  - Underestimating dependency mapping overhead
